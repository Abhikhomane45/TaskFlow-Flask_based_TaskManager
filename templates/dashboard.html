{% extends "base.html" %}

{% block content %}
<div class="header">
    <h1><i class="fas fa-chart-pie"></i> Dashboard</h1>
    <p>Your task statistics and insights</p>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon total">
            <i class="fas fa-tasks"></i>
        </div>
        <div class="stat-info">
            <h3>{{ total_tasks }}</h3>
            <p>Total Tasks</p>
        </div>
    </div>
    
    <div class="stat-card">
        <div class="stat-icon completed">
            <i class="fas fa-check-circle"></i>
        </div>
        <div class="stat-info">
            <h3>{{ completed_tasks }}</h3>
            <p>Completed</p>
        </div>
    </div>
    
    <div class="stat-card">
        <div class="stat-icon pending">
            <i class="fas fa-clock"></i>
        </div>
        <div class="stat-info">
            <h3>{{ pending_tasks }}</h3>
            <p>Pending</p>
        </div>
    </div>
    
    <div class="stat-card">
        <div class="stat-icon productivity">
            <i class="fas fa-chart-line"></i>
        </div>
        <div class="stat-info">
            <h3>
                {% if total_tasks > 0 %}
                    {{ (completed_tasks / total_tasks * 100) | round }}%
                {% else %}
                    0%
                {% endif %}
            </h3>
            <p>Completion Rate</p>
        </div>
    </div>
</div>

<div class="card">
    <h2>Tasks by Category</h2>
    <div class="category-list">
        {% for category, count in tasks_by_category.items() %}
        <div class="category-item">
            <span class="category-name">{{ category }}</span>
            <div class="category-progress">
                <div class="progress-bar">
                    <div class="progress" style="width: {% if total_tasks > 0 %}{{ (count / total_tasks * 100) | round }}%{% else %}0%{% endif %};"></div>
                </div>
                <span class="category-count">{{ count }} tasks</span>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<div class="card">
    <h2>Recent Activity</h2>
    <p class="text-muted">Your task management history will appear here.</p>
</div>
{% endblock %}